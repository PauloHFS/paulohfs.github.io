<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-concurrent-programming/threads-and-process-in-python" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Threads and Process in Python | Paulo Hernane</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://paulohfs.github.io/img/social-img.png"><meta data-rh="true" property="og:url" content="https://paulohfs.github.io/my-brain/concurrent-programming/threads-and-process-in-python"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:type" content="website"><meta data-rh="true" name="og:url" content="https://paulohfs.github.io/"><meta data-rh="true" name="og:title" content="Paulo Hernane | Software Engineer | Freelancer"><meta data-rh="true" name="og:description" content="Engenheiro de Software Freelancer especializado em soluções personalizadas de desenvolvimento. Experiência em várias linguagens de programação e tecnologias. Transforme suas ideias em realidade. Contate-me para um projeto de sucesso."><meta data-rh="true" name="og:image" content="img/social-img.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:url" content="https://paulohfs.github.io/"><meta data-rh="true" name="twitter:title" content="Paulo Hernane | Software Engineer | Freelancer"><meta data-rh="true" name="twitter:description" content="Engenheiro de Software Freelancer especializado em soluções personalizadas de desenvolvimento. Experiência em várias linguagens de programação e tecnologias. Transforme suas ideias em realidade. Contate-me para um projeto de sucesso."><meta data-rh="true" name="twitter:image" content="img/social-img.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Threads and Process in Python | Paulo Hernane"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://paulohfs.github.io/my-brain/concurrent-programming/threads-and-process-in-python"><link data-rh="true" rel="alternate" href="https://paulohfs.github.io/my-brain/concurrent-programming/threads-and-process-in-python" hreflang="en"><link data-rh="true" rel="alternate" href="https://paulohfs.github.io/my-brain/concurrent-programming/threads-and-process-in-python" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Paulo Hernane RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Paulo Hernane Atom Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.9c1c71d2.css">
<script src="/assets/js/runtime~main.770515ad.js" defer="defer"></script>
<script src="/assets/js/main.ca278fd2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Paulo Hernane</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/my-brain/concurrent-programming">My Brain</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/PauloHFS" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/my-brain/concurrent-programming">Concurrent Programming</a><button aria-label="Collapse sidebar category &#x27;Concurrent Programming&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-brain/concurrent-programming/basic-synchronization-patterns">Basic Synchronization Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-brain/concurrent-programming/classical-synchronization-problems">Classical Synchronization Problems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-brain/concurrent-programming/concurrency-vs-parallelism">Concurrency vs Parallelism</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-brain/concurrent-programming/semaphore">Semaphore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-brain/concurrent-programming/some-algorithms">Mutual Exclusion Algorithms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/my-brain/concurrent-programming/threads-and-process-in-python">Threads and Process in Python</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/my-brain/data-science">Data Science</a><button aria-label="Expand sidebar category &#x27;Data Science&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/my-brain/databases">Database</a><button aria-label="Expand sidebar category &#x27;Database&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/my-brain/godot">Gamedev with Godot</a><button aria-label="Expand sidebar category &#x27;Gamedev with Godot&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my-brain/Inter-Process Communication">inter-process-communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my-brain/javascript">Javascript</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/my-brain/leet-code">Leet Code</a><button aria-label="Expand sidebar category &#x27;Leet Code&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/my-brain/linux">Linux</a><button aria-label="Expand sidebar category &#x27;Linux&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/my-brain/machine-learning-and-data-science-course">Machine Learning and Data Science from A to Z</a><button aria-label="Expand sidebar category &#x27;Machine Learning and Data Science from A to Z&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/my-brain/math">Math</a><button aria-label="Expand sidebar category &#x27;Math&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my-brain/what-i-am-learning">What I am learning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my-brain/system-design">System Design</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/my-brain/concurrent-programming"><span itemprop="name">Concurrent Programming</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Threads and Process in Python</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Threads and Process in Python</h1></header><h2 id="introduction">Introduction</h2>
<p>To apply concurrency in python we can use threads or processes. To exemplify I will use parallel loops to demonstrate the technics.</p>
<h2 id="threads">Threads</h2>
<p>We can create a new thread for each iteration of a loop.</p>
<pre><code class="language-py"># SuperFastPython.com
# example of a parallel for loop with the Thread class
from threading import Thread

# execute a task
def task(value):
    # add your work here...
    # ...
    # all done
    print(f&#x27;.done {value}&#x27;)

# protect the entry point
if __name__ == &#x27;__main__&#x27;:
    # create all tasks
    threads = [Thread(target=task, args=(i,)) for i in range(20)]
    # start all threads
    for thread in threads:
        thread.start()
    # wait for all threads to complete
    for thread in threads:
        thread.join()
    # report that all tasks are completed
    print(&#x27;Done&#x27;)
</code></pre>
<h3 id="keep-in-mind">Keep in mind</h3>
<ul>
<li>This is good to small number of tasks.</li>
<li>Don&#x27;t scale well, if you have a lot of tasks it will slow down cause they will compete for the CPU.</li>
<li>The results from tasks can&#x27;t be returned easily.</li>
</ul>
<h2 id="threadpool">ThreadPool</h2>
<p>We can use a thread pool to reuse threads. This is programming pattern that handles the creation and management of threads for us.</p>
<pre><code class="language-py"># SuperFastPython.com
# example of a parallel for loop with the ThreadPool class
from multiprocessing.pool import ThreadPool

# execute a task
def task(value):
    # add your work here...
    # ...
    # return a result, if needed
    return value

# protect the entry point
if __name__ == &#x27;__main__&#x27;:
    # create the pool with the default number of workers
    with ThreadPool() as pool:
        # issue one task for each call to the function
        for result in pool.map(task, range(100)):
            # handle the result
            print(f&#x27;&gt;got {result}&#x27;)
    # report that all tasks are completed
    print(&#x27;Done&#x27;)

</code></pre>
<h3 id="keep-in-mind-1">Keep in mind</h3>
<ul>
<li>This is good to runs tasks that involve calling the same function many times with different arguments.</li>
<li>You can use functions instead of <code>map</code> to run different functions in parallel, using lazy, multiples args, async, etc.</li>
</ul>
<h2 id="threadpoolexecutor">ThreadPoolExecutor</h2>
<p>We can create a pool of worker threads using the ThreadPoolExecutor class with a modern executor interface.</p>
<p>This allows tasks to be issued as one-off tasks via the submit() method, returning Future object that provides a handle on the task. It also allows the same function to be called many times with different arguments via the map() method.</p>
<pre><code class="language-py"># SuperFastPython.com
# example of a parallel for loop with the ThreadPoolExecutor class
import concurrent.futures

# execute a task
def task(value):
    # add your work here...
    # return a result, if needed
    return value

# protect the entry point
if __name__ == &#x27;__main__&#x27;:
    # create the pool with the default number of workers
    with concurrent.futures.ThreadPoolExecutor() as exe:
        # issue some tasks and collect futures
        futures = [exe.submit(task, i) for i in range(50)]
        # handle results as tasks are completed
        for future in concurrent.futures.as_completed(futures):
            print(f&#x27;&gt;got {future.result}&#x27;)
        # issue one task for each call to the function
        for result in exe.map(task, range(50)):
            print(f&#x27;&gt;got {result}&#x27;)
    # report that all tasks are completed
    print(&#x27;Done&#x27;)
</code></pre>
<h3 id="keep-in-mind-2">Keep in mind</h3>
<ul>
<li>This is the preferred approach to run parallel for-loops.</li>
<li>This is good to run one-off tasks as well as many calls to the same function with different arguments.</li>
</ul>
<h2 id="processes">Processes</h2>
<p>We can create a new child process for each iteration of the loop.</p>
<pre><code class="language-py"># SuperFastPython.com
# example of a parallel for loop with the Process class
from multiprocessing import Process

# execute a task
def task(value):
    # add your work here...
    # ...
    # all done
    print(f&#x27;.done {value}&#x27;, flush=True)

# protect the entry point
if __name__ == &#x27;__main__&#x27;:
    # create all tasks
    processes = [Process(target=task, args=(i,)) for i in range(20)]
    # start all processes
    for process in processes:
        process.start()
    # wait for all processes to complete
    for process in processes:
        process.join()
    # report that all tasks are completed
    print(&#x27;Done&#x27;)
</code></pre>
<h3 id="keep-in-mind-3">Keep in mind</h3>
<ul>
<li>This is good to small number of tasks.</li>
<li>Don&#x27;t scale well, if you have more tasks that CPU cores it will slow down cause they will compete for the CPU.</li>
<li>The results from tasks can&#x27;t be returned easily.</li>
</ul>
<h2 id="pool">Pool</h2>
<p>We can create a pool of worker processes that can be reused for many tasks.</p>
<p>This can be achieved using the Pool class that will create one worker for each logical CPU core in the system.</p>
<p>The Pool class can be created using the context manager interface, which ensures that it is closed and all workers are released once we are finished with it.</p>
<pre><code class="language-py"># SuperFastPython.com
# example of a parallel for loop with the Pool class
from multiprocessing import Pool

# execute a task
def task(value):
    # add your work here...
    # ...
    # return a result, if needed
    return value

# protect the entry point
if __name__ == &#x27;__main__&#x27;:
    # create the pool with the default number of workers
    with Pool() as pool:
        # issue one task for each call to the function
        for result in pool.map(task, range(100)):
            # handle the result
            print(f&#x27;&gt;got {result}&#x27;)
    # report that all tasks are completed
    print(&#x27;Done&#x27;)
</code></pre>
<h3 id="keep-in-mind-4">Keep in mind</h3>
<ul>
<li>This is good to runs tasks that involve calling the same function many times with different arguments.</li>
<li>You can use functions instead of <code>map</code> to run different functions in parallel, using lazy, multiples args, async, etc.</li>
</ul>
<h3 id="processpoolexecutor">ProcessPoolExecutor</h3>
<p>we can create a pool of worker processes using the ProcessPoolExecutor class with a modern executor interface.</p>
<p>This allows tasks to be issued as one-off tasks via the <code>submit()</code> method, returning Future object that provides a handle on the task. It also allows the same function to be called many times with different arguments via the <code>map()</code> method.</p>
<pre><code class="language-py"># SuperFastPython.com
# example of a parallel for loop with the ProcessPoolExecutor class
import concurrent.futures

# execute a task
def task(value):
    # add your work here...
    # return a result, if needed
    return value

# protect the entry point
if __name__ == &#x27;__main__&#x27;:
    # create the pool with the default number of workers
    with concurrent.futures.ProcessPoolExecutor() as exe:
        # issue some tasks and collect futures
        futures = [exe.submit(task, i) for i in range(50)]
        # process results as tasks are completed
        for future in concurrent.futures.as_completed(futures):
            print(f&#x27;&gt;got {future.result}&#x27;)
        # issue one task for each call to the function
        for result in exe.map(task, range(50)):
            print(f&#x27;&gt;got {result}&#x27;)
    # report that all tasks are completed
    print(&#x27;Done&#x27;)
</code></pre>
<h3 id="keep-in-mind-5">Keep in mind</h3>
<ul>
<li>This is the preferred approach to run parallel for-loops.</li>
<li>This is good to run one-off tasks as well as many calls to the same function with different arguments.</li>
</ul>
<h2 id="what-to-use">What to use?</h2>
<p>When you Threads or Processes depends of the problem you are trying to solve.</p>
<p><strong>Thread-based concurrency is good for I/O-bound tasks</strong>, such as reading and writing files, network communication, database access, interact with devices, etc. This is note good for CPU-bound tasks because the GIL will prevent the threads from running in parallel, so threads are better, cause when one is waiting for I/O the GIL is release and another thread can run.</p>
<p><strong>Process-based concurrency is good for CPU-bound tasks</strong> like calculating, parsing, encoding and modeling, such as image processing, video encoding, machine learning, etc. If you do this type of operations in threads, each task will be locked by GIL.</p>
<p>Prefer to use the <code>ThreadPoolExecutor</code> or <code>ProcessPoolExecutor</code> classes to run parallel for-loops.</p>
<ul>
<li>Better interface to run the tasks.</li>
<li>Better performance by run only the number of tasks that can be run in parallel.</li>
<li>Better performance by reusing threads or processes.</li>
<li>When submitting tasks, they are queued and run as soon as a worker is available.</li>
</ul>
<h2 id="references">References</h2>
<ol>
<li><a href="https://superfastpython.com/threading-in-python/">Thread</a></li>
<li><a href="https://superfastpython.com/threadpool-python/">ThreadPool</a></li>
<li><a href="https://superfastpython.com/threadpoolexecutor-in-python/?ck_subscriber_id=2308580045&amp;utm_source=convertkit&amp;utm_medium=email&amp;utm_campaign=Lesson+03%3A+Parallel+Loops+with+ThreadPoolExecutor%20-%205160219">ThreadPoolExecutor</a></li>
<li><a href="https://click.convertkit-mail2.com/n4upknex0efquq2opna6h7mrlwgg/3ohphduq5g5w7nup/aHR0cHM6Ly9TdXBlckZhc3RQeXRob24uY29tL211bHRpcHJvY2Vzc2luZy1pbi1weXRob24v">Process</a></li>
<li><a href="https://click.convertkit-mail2.com/r8u5ozvd0vb9udk5rwi2hxkp3n66/7qh7h2u027w3l7c9/aHR0cHM6Ly9TdXBlckZhc3RQeXRob24uY29tL211bHRpcHJvY2Vzc2luZy1wb29sLXB5dGhvbi8=">Pool</a></li>
<li><a href="https://superfastpython.com/processpoolexecutor-in-python/?ck_subscriber_id=2308580045&amp;utm_source=convertkit&amp;utm_medium=email&amp;utm_campaign=Lesson+06%3A+Parallel+Loop+with+ProcessPoolExecutor%20-%205160227">ProcessPoolExecutor</a></li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/my-brain/tags/concurrent-programming">Concurrent Programming</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/my-brain/concurrent-programming/some-algorithms"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Mutual Exclusion Algorithms</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/my-brain/data-science"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data Science</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#threads" class="table-of-contents__link toc-highlight">Threads</a><ul><li><a href="#keep-in-mind" class="table-of-contents__link toc-highlight">Keep in mind</a></li></ul></li><li><a href="#threadpool" class="table-of-contents__link toc-highlight">ThreadPool</a><ul><li><a href="#keep-in-mind-1" class="table-of-contents__link toc-highlight">Keep in mind</a></li></ul></li><li><a href="#threadpoolexecutor" class="table-of-contents__link toc-highlight">ThreadPoolExecutor</a><ul><li><a href="#keep-in-mind-2" class="table-of-contents__link toc-highlight">Keep in mind</a></li></ul></li><li><a href="#processes" class="table-of-contents__link toc-highlight">Processes</a><ul><li><a href="#keep-in-mind-3" class="table-of-contents__link toc-highlight">Keep in mind</a></li></ul></li><li><a href="#pool" class="table-of-contents__link toc-highlight">Pool</a><ul><li><a href="#keep-in-mind-4" class="table-of-contents__link toc-highlight">Keep in mind</a></li><li><a href="#processpoolexecutor" class="table-of-contents__link toc-highlight">ProcessPoolExecutor</a></li><li><a href="#keep-in-mind-5" class="table-of-contents__link toc-highlight">Keep in mind</a></li></ul></li><li><a href="#what-to-use" class="table-of-contents__link toc-highlight">What to use?</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/gpaulo_h" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/paulohernane/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/PauloHFS" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Paulo Hernane Fontes e Silva.</div></div></div></footer></div>
</body>
</html>